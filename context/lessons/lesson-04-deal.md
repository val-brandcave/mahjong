# Lesson 04: The Deal

## Lesson Metadata

**Lesson Number:** 04
**Lesson Title:** The Deal
**Phase:** Setup & Structure
**Priority:** MVP Core
**Estimated Duration:** 4-6 minutes
**Difficulty:** Beginner
**Prerequisites:** Lesson 03 - Building the Walls
**Unlocks:** Lesson 05 - Charleston Part 1

---

## Learning Objectives

By the end of this lesson, users will be able to:
1. Understand how the East player rolls dice to determine the break
2. Know where and how to break the wall
3. Learn the dealing sequence and pattern
4. Understand how many tiles each player receives
5. Know who deals and who goes first
6. Organize tiles in their rack

---

## Lesson Overview

This lesson teaches the dealing process - how tiles are distributed from the walls to each player's rack. It covers dice rolling, breaking the wall, and the specific dealing pattern used in American Mahjong. Users will learn through visual demonstrations and interactive practice.

**Tone:** Instructional and methodical, teaching a process with steps
**Approach:** Visual demonstration, step-by-step walkthrough, interactive practice
**Key Message:** "Dealing has specific rules, but once you know the pattern, it's simple!"

---

## Topics Covered

### 1. The Dice Roll
- East player rolls two dice
- Total determines which wall to break and where
- Count counter-clockwise starting from East

### 2. Breaking the Wall
- Find the correct wall based on dice roll
- Count from right end of wall
- Create a gap where dealing will begin
- Tiles to the right of the break dealt first

### 3. Dealing Pattern
- East deals to all players
- Deal in counter-clockwise order: East ‚Üí South ‚Üí West ‚Üí North
- Four tiles at a time per player (first round)
- Two tiles at a time per player (second round)
- One tile at a time per player (final round)

### 4. Tile Count
- Each player receives 13 tiles
- East gets one extra tile (14 total to start)
- East goes first because they have 14 tiles

### 5. Organizing Your Rack
- Place tiles face-up in your rack
- Organize by suits and honor tiles
- Group similar tiles together
- Keep tiles hidden from other players

---

## Lesson Content Structure

### Screen 1: Introduction to Dealing
**Visual:** Overhead view of table with four walls in square, focus on East player position

**Text:**
```
The Deal

Now that the walls are built, it's time to deal tiles to each player!

The East player (dealer) rolls dice and deals tiles to everyone.

Each player will get 13 tiles (East gets 14).

Let's learn how it works!
```

**Narration Script (20 seconds):**
```
With the walls built, it's time to deal!

The East player acts as the dealer. They'll roll two dice to determine where
to break the wall, then deal tiles to all four players.

Everyone gets 13 tiles, except East who gets 14 - because East goes first!
```

**Interactive Element:**
- Animated overview of dealing process (fast preview)
- "Show me the details" button
- Visual highlight of East position

**Design Notes:**
- Set expectations for what user will learn
- Show that dealing has structure and rules
- Build confidence that process is learnable

---

### Screen 2: East Rolls the Dice
**Visual:** Close-up of East player rolling two dice, then overhead view showing count

**Text:**
```
Step 1: Roll the Dice

The East player rolls two dice.

The total determines:
1. Which wall to break
2. Where to break it

Let's say East rolls a 7 (4 + 3).
```

**Narration Script (25 seconds):**
```
The East player starts by rolling two standard dice.

Add the numbers together to get a total. This total tells us which wall to
break and where to break it.

For example, if East rolls a 4 and a 3, that's a total of 7. Now we count
counter-clockwise starting from East to find which wall to break.
```

**Interactive Element:**
- User taps to "roll dice"
- Dice animation with result
- Total calculated and displayed
- Multiple examples to try
- "Let's see where we break" button

**Design Notes:**
- Fun dice rolling animation
- Clear arithmetic (4 + 3 = 7)
- Multiple rolls available for understanding
- Build anticipation for next step

---

### Screen 3: Finding Which Wall to Break
**Visual:** Overhead table with counter-clockwise counting animation

**Text:**
```
Step 2: Count to Find the Wall

Starting from East, count counter-clockwise:

1 = East's wall
2 = South's wall
3 = West's wall
4 = North's wall
5 = East's wall (continue counting)
6 = South's wall
7 = West's wall ‚Üê Break here!

With a roll of 7, we break West's wall.
```

**Narration Script (25 seconds):**
```
Now we count counter-clockwise starting from East.

Each number corresponds to a player's wall. Since there are four players,
every four counts brings us back to East.

With our roll of 7: one-East, two-South, three-West, four-North, five-East,
six-South, seven-West! So we break West's wall.
```

**Interactive Element:**
- Animated counting with highlights
- Each count lights up the corresponding wall
- Color-coded walls (gold, red, black, blue)
- User can tap to advance count manually
- "Got it!" button after reaching final wall

**Visual Detail:**
- Numbers appear above walls as counting progresses
- Counter-clockwise arrow shows direction
- Final wall highlighted with special effect
- Clear connection between count and result

**Design Notes:**
- Slow, clear counting animation
- Visual reinforcement of counter-clockwise direction
- Color coding helps track positions
- Make the logic obvious

---

### Screen 4: Finding WHERE on the Wall to Break
**Visual:** Close-up of the chosen wall (West's wall in our example)

**Text:**
```
Step 3: Count Along the Wall

Now use the dice total again to count from the RIGHT end of the wall.

With a roll of 7, count 7 pairs from the right:

1 - 2 - 3 - 4 - 5 - 6 - 7

Break the wall after the 7th pair!

This creates a gap. Dealing starts from the tiles to the right of the break.
```

**Narration Script (25 seconds):**
```
Next, we use the same number - 7 - to find exactly where to break this wall.

Starting from the RIGHT end of the wall, count 7 pairs of tiles. After the
7th pair, create a break by separating the tiles.

The tiles to the right of this break are dealt first, moving to the left as
dealing continues.
```

**Interactive Element:**
- Animated counting along wall from right to left
- Each pair highlights as counted
- After count, wall visually separates at break point
- Gap created between tiles
- Direction arrow showing dealing starts to right of break
- "See the dealing pattern" button

**Visual Detail:**
- Clear numbering of pairs (1, 2, 3...7)
- Visual break/gap in wall after 7th pair
- Tiles to right of break highlighted (these go first)
- Arrow showing direction of dealing

**Design Notes:**
- Emphasize right-to-left counting
- Make the break visually obvious
- Show relationship between count and break point
- Prepare user for dealing sequence

---

### Screen 5: The Dealing Pattern - First Round
**Visual:** Animated dealing sequence showing tiles moving to players

**Text:**
```
Step 4: Deal the Tiles

East deals four tiles at a time to each player, starting with themselves.

Order: East ‚Üí South ‚Üí West ‚Üí North (counter-clockwise)

First Round (4 tiles each):
‚Ä¢ East takes 4 tiles
‚Ä¢ South takes 4 tiles
‚Ä¢ West takes 4 tiles
‚Ä¢ North takes 4 tiles

Repeat this 3 times = 12 tiles per player
```

**Narration Script (30 seconds):**
```
Now the dealing begins!

East takes four tiles from the break point, then deals four to South, four
to West, and four to North. This continues counter-clockwise around the table.

This first round happens three times total, giving each player 12 tiles.

The tiles come from the right of the break, moving leftward along the walls
as dealing progresses.
```

**Interactive Element:**
- Animated tiles "flying" from wall to player racks
- Counter showing tiles dealt: "Round 1: 4 tiles each"
- Pause between rounds with "Next round" button
- Progress tracker: "12 tiles dealt to each player"
- Speed control: Slow / Normal / Fast animation

**Visual Detail:**
- Tiles move in groups of 4
- Clear path from wall to each player position
- Counter-clockwise rotation visual
- Running totals per player
- Wall depletes as tiles are dealt

**Design Notes:**
- Satisfying animation of tiles moving
- Clear counter-clockwise pattern
- Show that wall gets smaller as dealing progresses
- Build understanding through repetition (3 rounds)

---

### Screen 6: The Dealing Pattern - Final Tiles
**Visual:** Continuation of dealing animation

**Text:**
```
Step 5: Final Tiles

After three rounds of 4 tiles (12 tiles per player), deal the last tiles:

One more tile each:
‚Ä¢ East takes 1 tile (now has 13)
‚Ä¢ South takes 1 tile (now has 13)
‚Ä¢ West takes 1 tile (now has 13)
‚Ä¢ North takes 1 tile (now has 13)

Then East takes ONE MORE tile (now has 14 total).

East has 14 tiles to start - everyone else has 13.
```

**Narration Script (25 seconds):**
```
After three rounds of four tiles each, everyone has 12 tiles. Now we deal
one more tile to each player.

East takes one, South takes one, West takes one, North takes one. That's 13
tiles each.

Finally, East takes one additional tile, giving them 14 total. This extra
tile means East will go first!
```

**Interactive Element:**
- Animated final round of dealing
- Clear distinction between "one for everyone" and "extra for East"
- Final count displayed: "E: 14, S: 13, W: 13, N: 13"
- Celebration: "Dealing complete!"
- "Why does East get 14?" info button

**Visual Detail:**
- Slower animation for final tiles (emphasize importance)
- East's rack visually distinct (extra tile shown)
- Final tallies displayed above each player
- East's 14th tile highlighted in gold

**Design Notes:**
- Make East's extra tile very clear
- Explain the "why" (East goes first)
- Show all players have correct count
- Celebrate completion of dealing

---

### Screen 7: Organizing Your Rack
**Visual:** First-person view of player's rack with 13 tiles face-up but scrambled

**Text:**
```
Step 6: Organize Your Tiles

Now that you have your tiles, organize them in your rack!

Tips for organizing:
‚Ä¢ Group suits together (Bamboos, Characters, Dots)
‚Ä¢ Keep Dragons together
‚Ä¢ Keep Winds together
‚Ä¢ Separate Flowers and Jokers
‚Ä¢ Arrange numbers in order within each suit

Your tiles stay hidden from other players.
```

**Narration Script (25 seconds):**
```
Once you receive your tiles, it's time to organize them in your rack.

Group similar tiles together: all Bamboos in one section, all Characters in
another, all Dots together. Put your Dragons, Winds, Flowers, and Jokers in
their own groups too.

Within each suit, arrange the numbers in order - this makes it easier to see
what you have!
```

**Interactive Element:**
- User can drag tiles to rearrange in rack
- Suggested organization shown with dotted sections
- Auto-organize button available (optional)
- Tiles snap into organized positions
- "My rack is organized!" button

**Sorting Logic:**
1. Jokers (left side)
2. Flowers
3. Dragons (Red, Green, White)
4. Winds (East, South, West, North)
5. Bamboos (1-9)
6. Characters (1-9)
7. Dots (1-9)

**Design Notes:**
- Make organization intuitive
- Show before/after comparison
- Allow user control but provide guidance
- Emphasize benefit of organization

---

### Screen 8: Why East Gets 14 Tiles
**Visual:** Comparison showing East with 14 tiles vs. others with 13

**Text:**
```
Why Does East Have 14 Tiles?

In Mahjong, gameplay works like this:
‚Ä¢ Draw a tile from the wall
‚Ä¢ Discard a tile you don't want

Since East goes first, they need to DISCARD first.

To discard, they need 14 tiles (so they can keep 13 after discarding).

Everyone else will draw their 14th tile on their first turn!
```

**Narration Script (20 seconds):**
```
You might wonder why East starts with 14 tiles instead of 13.

Here's why: The game is played by drawing one tile and discarding one tile.
Since East goes first, they need to discard immediately - which means they
need 14 tiles to start with.

Everyone else will draw their 14th tile when it's their first turn!
```

**Interactive Element:**
- Visual diagram showing turn sequence
- Animation of East discarding first tile
- Shows East back to 13 tiles after discard
- "That makes sense!" button

**Design Notes:**
- Clear logical explanation
- Visual makes the reason obvious
- Reduces confusion about tile counts
- Prepares user for gameplay mechanics

---

## Interactive Exercises

### Exercise 1: Dice Rolling Practice
**Format:** Interactive simulation
**Timing:** After Screen 8

**Instructions:**
```
Practice: Roll and Count

Roll the dice, then count to find which wall to break.

Try 5 different rolls to get comfortable with the counting.
```

**Interactive Elements:**
- User taps "Roll Dice" button
- Dice animate and show result
- User must tap the correct wall based on count
- System shows counting animation if correct
- Feedback for correct/incorrect selection

**Examples:**
1. Roll 5 ‚Üí Count 5 (East-South-West-North-East) ‚Üí East wall
2. Roll 9 ‚Üí Count 9 ‚Üí South wall
3. Roll 12 ‚Üí Count 12 ‚Üí North wall
4. Roll 6 ‚Üí Count 6 ‚Üí South wall
5. Roll 8 ‚Üí Count 8 ‚Üí North wall

**Success Criteria:**
- Complete 5 rolls
- Select correct wall at least 4 out of 5 times
- Can retry failed attempts

**Feedback:**
- Correct: "Perfect! Break West's wall." + animation
- Incorrect: "Let's count together..." + slow counting animation
- Completion: "You've got the counting down!"

---

### Exercise 2: Dealing Sequence Practice
**Format:** Interactive simulation
**Timing:** After Exercise 1

**Instructions:**
```
Practice: Deal the Tiles

You're the East player. Deal tiles to all four players.

Follow the correct pattern:
‚Ä¢ 4 tiles each (3 rounds) = 12 tiles each
‚Ä¢ 1 tile each = 13 tiles each
‚Ä¢ 1 more for East = East has 14

Tap players in the correct order to deal!
```

**Interactive Elements:**
- Overhead table view with four positions
- User taps players to deal tiles
- Must follow correct order: E ‚Üí S ‚Üí W ‚Üí N
- System tracks tiles dealt per player
- Visual feedback if wrong order selected
- Progress indicator shows current round

**Sequence:**
- **Round 1:** Tap East (4), South (4), West (4), North (4)
- **Round 2:** Tap East (4), South (4), West (4), North (4)
- **Round 3:** Tap East (4), South (4), West (4), North (4)
- **Round 4:** Tap East (1), South (1), West (1), North (1)
- **Final:** Tap East (1) for 14th tile

**Success Criteria:**
- Complete all rounds in correct order
- Each player has correct tile count at end
- East has 14, others have 13

**Feedback:**
- Correct tap: Tiles animate to player, "+4 tiles"
- Incorrect tap: "Deal to [correct player] next!"
- Completion: "Perfect dealing! Everyone has their tiles!"

---

### Exercise 3: Rack Organization
**Format:** Drag and drop sorting
**Timing:** After Exercise 2

**Instructions:**
```
Organize Your Rack

You've been dealt 13 tiles. Organize them so similar tiles are grouped together.

Group by:
‚Ä¢ Suits (Bamboos, Characters, Dots)
‚Ä¢ Honor tiles (Winds, Dragons)
‚Ä¢ Special tiles (Flowers, Jokers)

Arrange numbers within suits in order (1-2-3...9)
```

**Given Tiles (example set):**
- 3 Bam, 7 Dot, Red Dragon, 5 Crak, Joker, 2 Bam, East Wind, 9 Dot, 4 Bam, Green Dragon, 1 Crak, 8 Crak, South Wind

**Optimal Organization:**
- Joker | South Wind, East Wind | Red Dragon, Green Dragon | 2 Bam, 3 Bam, 4 Bam | 1 Crak, 5 Crak, 8 Crak | 7 Dot, 9 Dot

**Interactive Elements:**
- Drag tiles to rearrange positions
- Dotted guides show suggested sections
- "Check my organization" button for feedback
- "Auto-organize" button shows optimal layout
- Can rearrange multiple times

**Success Criteria:**
- Similar tiles grouped together
- Numbers in ascending order within suits
- Logical organization (doesn't have to be perfect)

**Feedback:**
- "Great organization! Your tiles are easy to read."
- "Good start! Try grouping all your Bamboos together."
- "Perfect! This organization will help you choose hands."

---

### Exercise 4: Knowledge Check Quiz
**Format:** Multiple choice
**Timing:** Final assessment

**Question 1:**
"Who rolls the dice to determine where to break the wall?"
- A) The oldest player
- B) The East player ‚úì
- C) Every player rolls
- D) The person who won last game

**Question 2:**
"How many tiles does each player receive (except East)?"
- A) 12 tiles
- B) 13 tiles ‚úì
- C) 14 tiles
- D) 15 tiles

**Question 3:**
"How many tiles does East start with?"
- A) 12 tiles
- B) 13 tiles
- C) 14 tiles ‚úì
- D) 15 tiles

**Question 4:**
"In what order are tiles dealt?"
- A) Clockwise: East ‚Üí North ‚Üí West ‚Üí South
- B) Counter-clockwise: East ‚Üí South ‚Üí West ‚Üí North ‚úì
- C) Random order
- D) All at once

**Question 5:**
"Why does East start with 14 tiles?"
- A) East is the most important player
- B) It's a rule with no reason
- C) East goes first and must discard immediately ‚úì
- D) East needs extra tiles to win

**Success Criteria:**
- Must answer at least 4 of 5 correctly
- Can retry if failed

**Feedback:**
- 5/5: "Perfect! You understand the dealing process completely!"
- 4/5: "Excellent! You're ready for the Charleston!"
- 3/5 or less: "Let's review dealing one more time."

---

## Success Criteria

Users successfully complete this lesson when they:
- ‚úÖ Watch/read all 8 content screens
- ‚úÖ Complete dice rolling practice (Exercise 1) - 4/5 correct
- ‚úÖ Complete dealing sequence practice (Exercise 2) - correct order
- ‚úÖ Organize rack successfully (Exercise 3)
- ‚úÖ Pass knowledge check (Exercise 4) - 4/5 correct
- ‚úÖ Minimum 4 minutes spent in lesson

**Completion Requirements:**
- All interactive exercises completed
- Understanding of dice roll ‚Üí wall break ‚Üí dealing sequence
- Passing quiz scores

**Reward:**
- ‚≠ê "Master Dealer" badge
- üéä Confetti animation
- ‚úÖ Lesson 4 marked complete
- üîì Lesson 5 unlocked (Charleston Part 1!)
- üìä "You can now deal Mahjong tiles!"
- üéØ Special message: "Next up: The Charleston - the most important lesson!"

---

## Visual Assets Needed

### Dice Graphics
- Two standard dice (1-6 dots)
- Rolling animation
- Result display

### Wall & Breaking
- Walls with visible pairs
- Breaking animation (gap creation)
- Counting markers on walls
- Direction indicators

### Dealing Animation
- Tiles moving from wall to racks
- Multiple tiles moving in groups
- Speed control for animation
- Path indicators (showing counter-clockwise movement)

### Rack Visuals
- Player rack (first-person view)
- Four racks (overhead view)
- Tile organization guides
- Tile counts display

### UI Elements
- Progress trackers for dealing rounds
- Tile counters per player
- Turn order indicators
- Sorting guides for rack organization

---

## Narration Script (Complete)

**Total Audio Length:** ~3 minutes

### Screen 1 - Introduction (20 sec)
"With the walls built, it's time to deal! The East player acts as the dealer. They'll roll two dice to determine where to break the wall, then deal tiles to all four players. Everyone gets 13 tiles, except East who gets 14 - because East goes first!"

### Screen 2 - Dice Roll (25 sec)
"The East player starts by rolling two standard dice. Add the numbers together to get a total. This total tells us which wall to break and where to break it. For example, if East rolls a 4 and a 3, that's a total of 7. Now we count counter-clockwise starting from East to find which wall to break."

### Screen 3 - Finding Wall (25 sec)
"Now we count counter-clockwise starting from East. Each number corresponds to a player's wall. Since there are four players, every four counts brings us back to East. With our roll of 7: one-East, two-South, three-West, four-North, five-East, six-South, seven-West! So we break West's wall."

### Screen 4 - Where to Break (25 sec)
"Next, we use the same number - 7 - to find exactly where to break this wall. Starting from the RIGHT end of the wall, count 7 pairs of tiles. After the 7th pair, create a break by separating the tiles. The tiles to the right of this break are dealt first, moving to the left as dealing continues."

### Screen 5 - First Round (30 sec)
"Now the dealing begins! East takes four tiles from the break point, then deals four to South, four to West, and four to North. This continues counter-clockwise around the table. This first round happens three times total, giving each player 12 tiles. The tiles come from the right of the break, moving leftward along the walls as dealing progresses."

### Screen 6 - Final Tiles (25 sec)
"After three rounds of four tiles each, everyone has 12 tiles. Now we deal one more tile to each player. East takes one, South takes one, West takes one, North takes one. That's 13 tiles each. Finally, East takes one additional tile, giving them 14 total. This extra tile means East will go first!"

### Screen 7 - Organizing (25 sec)
"Once you receive your tiles, it's time to organize them in your rack. Group similar tiles together: all Bamboos in one section, all Characters in another, all Dots together. Put your Dragons, Winds, Flowers, and Jokers in their own groups too. Within each suit, arrange the numbers in order - this makes it easier to see what you have!"

### Screen 8 - Why 14 Tiles (20 sec)
"You might wonder why East starts with 14 tiles instead of 13. Here's why: The game is played by drawing one tile and discarding one tile. Since East goes first, they need to discard immediately - which means they need 14 tiles to start with. Everyone else will draw their 14th tile when it's their first turn!"

---

## Error Messages & Hints

### Dice Exercise
- **Wrong wall selected:** "Let's count together: 1-East, 2-South, 3-West, 4-North... [continue to rolled number]"
- **After 2 incorrect:** "Tip: Count counter-clockwise starting from East. Every 4 counts you're back to East!"

### Dealing Exercise
- **Wrong order:** "Deal to [correct player] next! Remember: counter-clockwise."
- **Wrong number of tiles:** "Deal 4 tiles at a time for the first 3 rounds!"
- **Forgot East's extra tile:** "Don't forget - East gets one more tile at the very end!"

### Organization Exercise
- **No grouping:** "Try grouping similar tiles together. Put all Bamboos in one area!"
- **Numbers not sorted:** "Within each suit, arrange numbers from lowest to highest."

---

## Accessibility Considerations

### Visual
- High contrast dice against background
- Clear counting indicators
- Animated paths easy to follow
- Large, readable tile images

### Audio
- Dice roll sound effects
- Tile movement sounds
- Counting narration
- Success/error audio cues

### Motor
- Large tap targets for dice roll
- Generous drag zones for rack organization
- Alternative to drag: tap tiles to auto-sort
- No time-pressure actions

### Cognitive
- Step-by-step breakdown
- Repetition of dealing pattern (3 rounds)
- Visual guides for every step
- Can replay animations

---

## Developer Notes

### Technical Implementation
- **Animation system:** Smooth tile movement from walls to racks
- **Dice physics:** Random number generation with dice roll animation
- **State management:** Track tiles per player, dealing rounds, wall depletion
- **Auto-organize algorithm:** Smart tile sorting based on suit/number

### API Endpoints
- `POST /api/lessons/4/progress`
- `POST /api/lessons/4/exercises/{exercise_id}/submit`
- `POST /api/lessons/4/complete`

### Performance
- Preload dealing animations
- Optimize particle effects for tile movement
- Smooth 60fps for all animations
- Cache organized rack layouts

---

## User Testing Questions

1. **Understanding:** "Can you explain how dice determine the wall break?"
2. **Sequence:** "In what order are tiles dealt?"
3. **Tile Count:** "How many tiles does East start with? Why?"
4. **Confidence:** "Do you feel comfortable with the dealing process?"
5. **Organization:** "How do you organize tiles in your rack?"

---

## Future Enhancements

### V1.1
- Slow-motion replay of dealing sequence
- Practice mode: Deal to computer players

### V1.2
- Different dealing variations (Chinese, Taiwanese)
- Cultural context of East as dealer

### V2.0
- Multiplayer: Deal with 3 other real players online
- Compare to automatic table dealing
- Advanced: Speed dealing techniques

---

*Last Updated: October 26, 2024*
*Status: Complete - Ready for Design & Development*
